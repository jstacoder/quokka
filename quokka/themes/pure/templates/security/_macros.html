{% macro render_field_with_errors(field) %}
 <div class="pure-control-group{%if field.errors %} has-error{% endif %}">
    <label for="{{field.id}}">{{ field.label }}</label>
      {{field(**kwargs)|safe}}
  </div>
{% endmacro %}

{% macro render_field(field) %}
{% if field.type != 'HiddenField' %}
 <div class="pure-control-group">
    <label for="{{field.id}}">{{ field.label }}</label>
    {{field(**kwargs)|safe}}
  </div>
{% else %}
    {{field(**kwargs)|safe}}
{% endif %}
{% endmacro %}

{% macro render_button(field) %}
   <div class="pure-controls">
      {{field(**kwargs)|safe}}
  </div>
{% endmacro %}


{% macro security_buttons(register=false, login=false, forgotpw=false, confirm=false, links=false) %}
    {% if login %}
        <a class="{% if links %}btn btn-link{% endif %}pure-button pure-button-primary" href="{{ url_for_security('login', **request.args) }}">Login</a>
    {% endif %}
    {% if register %}
        {% if security.registerable %}
          <a class="{% if links %}btn btn-link{% endif %}pure-button button-small" href="{{ url_for_security('register', **request.args) }}">Register</a>
        {% endif %}
    {% endif %}

        {% if forgotpw %}
            <a class="{% if links %}btn btn-link{% endif %}pure-button button-small" href="{{ url_for_security('forgot_password', **request.args) }}">Forgot password</a>
        {% endif %}

        {% if confirm %}
            <a class="{% if links %}btn btn-link{% endif %}pure-button button-small" href="{{ url_for_security('send_confirmation', **request.args) }}">Confirm account</a>
        {% endif %}
{% endmacro %}
